{
  "strategy_id": "STRAT_MESO_PACKAGES",
  "revision": 1,
  "name": "Package deals (MESOs)",
  "category": "VALUE_CREATE",
  "subcategories": [],
  "tags": [
    "MESO",
    "PACKAGING",
    "TRADEOFFS",
    "EMAIL",
    "DM"
  ],
  "summary": "Present 2\u20133 packages you would accept, each optimized differently, to reveal priorities and move away from single-issue haggling.",
  "goal": "Increase agreement probability and value by trading across issues instead of fighting on one number.",
  "counterparty_guidance": [
    "Evaluate packages for your priorities, not just theirs.",
    "Do not choose among options if all favor them; propose your own.",
    "Use packages to surface their preferences and demand balance.",
    "Ask for a comparison that clarifies trade-offs."
  ],
  "rationale": "",
  "applicability": {
    "domains": [
      "GENERAL",
      "RENT_HOUSING",
      "PROCUREMENT_VENDOR",
      "JOB_OFFER_COMP",
      "SERVICES_CONTRACTOR",
      "PERSONAL_FAMILY"
    ],
    "channels": [
      "EMAIL",
      "DM",
      "IN_PERSON_NOTES"
    ],
    "when_to_use": [
      "Use when you need a structured move to progress the negotiation."
    ],
    "when_not_to_use": [
      "Avoid when facts are missing and you need intake/clarification first."
    ],
    "prerequisites": [
      {
        "id": "PREREQ_HAS_OBJECTIVES",
        "description": "Case objectives exist (target/acceptable/walk-away).",
        "condition": {
          "type": "PREDICATE",
          "predicate": {
            "op": "EXISTS",
            "path": "/objectives/target"
          }
        },
        "severity": "WARNING",
        "remediation": "Fill target/acceptable/walk-away in the Strategy Canvas."
      }
    ]
  },
  "inputs": [
    {
      "key": "num_packages",
      "label": "Number of packages",
      "type": "NUMBER",
      "required": true,
      "default": 3
    },
    {
      "key": "package_themes",
      "label": "What each package optimizes",
      "type": "STRING_LIST",
      "required": true
    }
  ],
  "steps": [
    {
      "step_id": "STEP_VALIDATE",
      "title": "Validate context and prerequisites",
      "instruction": "Validate prerequisites, restate the intended move, and identify missing info that would improve execution.",
      "agent_actions": [
        {
          "action": "Load case snapshot",
          "tool": "RETRIEVE_CASE",
          "output_key": "case"
        }
      ],
      "outputs": [
        "PLAN_PATCH"
      ],
      "notes": "If blockers exist, return remediation instead of artifacts."
    },
    {
      "step_id": "STEP_EXECUTE",
      "title": "Execute the strategy",
      "instruction": "Generate the required artifacts (drafts, packages, checklist) and run critique rubrics before presenting to the user.",
      "agent_actions": [
        {
          "action": "Generate message drafts",
          "tool": "GENERATE_MESSAGE_DRAFTS",
          "output_key": "drafts"
        },
        {
          "action": "Critique drafts",
          "tool": "CRITIQUE_MESSAGE",
          "output_key": "judge"
        }
      ],
      "outputs": [
        "MESSAGE_DRAFTS",
        "DECISION_LOG"
      ]
    }
  ],
  "scripts": {
    "snippets": [],
    "templates": []
  },
  "branches": [
    {
      "branch_id": "BRANCH_THEY_DEMAND_ONE_NUMBER",
      "label": "They insist on one number only",
      "trigger": {
        "type": "PREDICATE",
        "predicate": {
          "op": "CONTAINS",
          "path": "/timeline/recent_events/0/raw_text",
          "value": "best"
        }
      },
      "recommended_move": {
        "move_type": "ASK_QUESTION",
        "instruction": "Ask which dimension matters most (speed, risk, scope) and offer two simplified packages tied to that priority."
      },
      "outputs": [
        "MESSAGE_DRAFTS",
        "CHECKLIST"
      ],
      "risk_notes": "Avoid collapsing prematurely to a single issue."
    }
  ],
  "evaluation": {
    "rubric_ids": [
      "RUBRIC_MESSAGE_QUALITY",
      "RUBRIC_NEGOTIATION_SAFETY"
    ],
    "success_criteria": [
      "Move is explicit and progresses the negotiation.",
      "Message includes a next step or calibrated question."
    ],
    "failure_modes": [
      "Vague ask.",
      "Unnecessary disclosure of urgency or bottom line."
    ],
    "do_not_do": [
      "Do not fabricate facts.",
      "Do not reveal your bottom line unless intentionally walking away."
    ],
    "auto_gates": [
      {
        "gate_id": "GATE_BOTTOM_LINE_LANGUAGE",
        "description": "Warn or block if explicit bottom line language is present.",
        "condition": {
          "type": "PREDICATE",
          "predicate": {
            "op": "MATCHES",
            "path": "/execution_context/draft_text",
            "regex": "(minimum|bottom line|final offer)"
          }
        },
        "severity": "WARN"
      }
    ]
  },
  "ui": {
    "card_title": "Package deals (MESOs)",
    "card_summary": "Present 2\u20133 packages you would accept, each optimized differently, to reveal priorities and move away from single-issue haggling.",
    "primary_cta": "Run strategy",
    "secondary_ctas": [
      "Edit plan",
      "Generate variants"
    ],
    "icon": "sparkles"
  },
  "references": []
}
